Before we explore the workings of Azure IoT, let us first recap the basic cloud computing services.

Cloud computing involves delivering hosted services over the internet. Hosted cloud services are divided into three categories: Infrastructure as a Service (IaaS), Platform as a Service (PaaS) and Software as a Service (SaaS). IaaS provides virtualized computing resources over the internet. Typically, these are hardware resources deployed in datacenters. Examples of IaaS resources include storage, backup, and recovery services.  PaaS services are concerned with simplifying software development. PaaS could provide services like version management and testing. PaaS provides a framework for developers to build and deploy cloud-based applications quickly.   In the case of SaaS, the software is centrally hosted and managed by the cloud provider. The end user uses the software as a service. IaaS, PaaS, and SaaS build on top of each other. IaaS needs the most management from the end user, and SaaS needs the least management from the end user. 

The Azure IoT product portfolio presents two paths for creating solutions, i.e. **PaaS solutions** and **SaaS solutions**. You also have access to the underlying **PaaS technologies** to develop a granular solution.   

## PAAS solutions
Azure IoT solution accelerators are customizable PaaS solutions for specific industry verticals. IoT solution accelerators provide pre-built solutions that can you can rapidly deploy within a vertical. Examples of IoT solution accelerators include Remote monitoring, Connected factory, Predictive maintenance, and device simulation.

## SAAS solutions
SaaS solutions are suited for organizations with fewer device models, more predictable scenarios, and limited IoT/IT capabilities. Azure IoT Central is a managed SaaS solution, which allows you to get started quickly with minimal IoT experience. IoT central is suited when the IoT needs are straightforward and relatively little cloud development expertise is needed.  

## PAAS technologies
Platform-as-a-Service (PaaS) technologies provide a granular option to control all aspects of your IoT solution enabling you to create a fully customized solution. You can classify Azure PaaS technologies into four categories: Device support; IoT; Data and Analytics; Visualization and Integration. We describe each of these four categories and their subcomponents briefly below.

### 1) Device Support
Azure IoT provides various means to support a range of devices. These include Azure IoT Device SDK,  Azure IoT certified devices, Security Program for Azure IoT and Windows 10 IoT.

### 2) IoT
The suite of IoT technologies include:

**Azure IoT Hub:** Azure IoT Hub is a managed service that enables bidirectional communications between millions of IoT devices and a solution back end. IoT Hub allows you to Connect, manage, and scale billions of IoT devices from the edge to the cloud.

**Azure Time Series Insights:** Azure Time Series Insights enables you to store, visualize, and query large amounts of time series data generated by IoT devices to gain actionable insights. 

**Azure Sphere:** Azure Sphere is an end-to-end solution for securing Microcontroller Unit (MCU) powered devices. Azure Sphere comprises of three parts: Azure Sphere Operating System, Azure Sphere Certified MCUs, and the Azure Sphere Security Service.
- The Azure Sphere Operating System is a secure OS that creates a secured platform for IoT devices. 
- The Azure Sphere Certified MCUs provide connectivity and dependable hardware root of trust.  
- The Azure Sphere Security Service brokers trust for device-to-device and device-to-cloud communication. It detects emerging threats and renews device security. 
Thus, Azure sphere allows you to build new devices and connect existing equipment securely using end-to-end security features that are layered across the device stack.

**Azure IoT Edge:** IoT Edge is built on top of IoT Hub, IoT Edge enables you to move parts of your workload to the edge device and create a better experience for your customers.

**IoT Hub Device Provisioning Service:** The Azure IoT Hub Device Provisioning Service is a helper service for IoT Hub. The device provisioning service enables customers to provision millions of devices in a secure and scalable manner.

**Azure Digital Twins:** Azure Digital Twins enables you to model the relationships and interactions between people, spaces, and devices. This ability allows you to create models of a physical environment that you're interested in analyzing. Once the environment has been modeled, you can run predictive algorithms to anticipate the behavior of the entire system. For example, you can optimize the use of available space for an office if the office is modeled through Digital Twins by replicating the physical space.

**Azure Maps:** Azure Maps is a collection of geospatial services that use fresh mapping data to provide accurate geographic context to web and mobile applications. You can add spatial analytics, mapping services and mobility services to your app using APIs.

### 3) Data and Analytics
**Azure Machine Learning:** Azure machine learning represents a suite of products to build, train, and deploy machine learning models in Azure. Data and analytics solutions from Azure represent a set of solutions to store and analyze IoT data. These include Azure Stream Analytics, Azure HDinsight, Azure Data Lake, Azure Cosmos DB, and Azure Data Fabric. You can also build your system using Azure functions to enable a serverless application. Azure Functions enables you to run small pieces of code, or "functions," in the cloud.  These functions can then be combined to create a more comprehensive application. You pay only for the time your code runs (serverless application).

### 4) Visualization and Integration
Visualization and Integration solutions for IoT solutions include Microsoft Flow, Azure Logic Apps, Azure Web App, Notification Hubs, Azure Active Directory, Microsoft Power BI, Azure Monitor, and Power Apps.

## How do Azure IoT components fit together to solve the scenario  
Consider the scenario presented previously about ensuring fresh food delivery.

The basic telemetry application doesn't cater for more complex requirements. Recording temperature of fruit only indicates problems retrospectively. If there's a problem with a specific fruit, you need to know the exact location and ensure that the other fruit in the pallet is still safe to consume.  You need the ability to visually inspect fruit remotely using a camera and indicate fruit with any problems. If there is damage, you need to know how far the truck is from its destination so that you can inform the retailer and the grower. If possible, you also need to notify nearby vehicles to supply the retailer if the order is urgent.

Finally, you need to maintain the data about the consignment for insurance and audit purposes. By analyzing the data, you can anticipate future problems before they occur.  Customers can now be provided data about the fruit â€“ for example, the carbon footprint.

Azure IoT helps to solve problems discussed in this scenario by providing a suite of products that help to deploy IoT at scale. All messages are received and managed centrally. New devices can be provisioned and managed to enable different kinds of growers and retailers to connect to the system. The data from sensors can be captured in various forms (ex: time series, image, and video data). If needed, data can be managed on edge devices. The data can be visualized in the cloud. Analytics can be applied in the cloud to compute business metrics like the carbon footprint. You could also use analytics to calculate anomalies in sensor readings and apply predictive algorithms to anticipate problems based on past data.  You could corelate the data and analytics to geographical information.

However, you can take an even more innovative approach. You can rethink existing business processes from the perspective of the **intelligent cloud** and the **intelligent edge.** Based on the scenario above, the deployment of intelligent cloud and the intelligent edge can transform existing processes in four ways:  

- ***Impact on personnel:*** The truck drivers (who are mostly mobile) now have more up-to-date information and support based on the sharing of data and mapping information.
- ***Impact on customers:*** Customers (retailers) now get more up-to-date information and are ensured of a better quality of produce.
- ***Engage customers***: The carbon footprint and other metrics create engaged customers.  
- ***Optimize operations:*** The whole process of delivery of fresh produce can be optimized through a feedback loop from the deployment of IoT by breaking down data silos.   

The new process could generate an **automated feedback loop** between the device and the cloud to increase the solution efficiency.