Developers often register custom AI apps in Microsoft Entra to give those apps access to organizational data through Microsoft Graph APIs. These apps might be built entirely in-house or use external platforms and services, but all rely on Microsoft Entra ID for authentication and access management.

Because these apps can read, generate, or share sensitive content, it's important to apply visibility, classification, and data protection policies consistently. Microsoft Purview allows you to evaluate risk across Entra-registered apps and apply the same compliance controls used for other AI-enabled tools in your environment.

## Discover apps through Microsoft Entra signals

Microsoft Purview uses signals from Microsoft Entra to detect when apps request or access data across Microsoft 365. This includes apps that:

- Are registered in Microsoft Entra ID using delegated or application permissions
- Access sensitive content through Graph APIs
- Trigger activity in workloads such as Exchange, SharePoint, or Teams

Once discovered, these apps appear in the **Copilot experiences and agents** tab in Data Security Posture Management (DSPM) for AI. Each entry includes metadata such as app name, activity level, risk indicators, and associated users. You can filter this view to focus on Entra-registered apps or use DSPM for AI assessments to understand how they interact with sensitive data.

## Use collection policies to capture prompt activity

To inspect how an Entra-registered AI app is used, you can configure DSPM for AI collection policies. These policies allow you to:

- Capture prompts and responses submitted by users through the app
- Identify when sensitive information types appear in prompts or generated content
- Surface patterns in how the app accesses or outputs protected data

Collection policies can be scoped to include specific apps, services, or activities. Captured activity becomes available in **activity explorer**, where you can view individual prompt events, filter by user or app, and trace the flow of sensitive data.

## Apply classification and data loss prevention

Once captured, content from Microsoft Entra-registered apps can be evaluated using Microsoft Purview Data Loss Prevention (DLP) and sensitivity labeling.

For example, you can:

- Use DLP policies to audit or block responses that contain financial data or personal identifiers
- Require labeling on content that matches defined sensitivity information types
- Extend policies to cover generated content saved to SharePoint or OneDrive

By inspecting both input and output, you can enforce policies on AI-generated data just as you would on user-created content.

## Apply retention and support investigations

If your organization needs to retain or investigate data generated by Entra-registered apps, you can use Microsoft Purview retention and eDiscovery features.

You can apply retention policies to:

- Preserve prompts and responses captured by DSPM for AI collection policies
- Ensure that AI-generated content is kept for regulatory, legal, or business needs
- Apply consistent lifecycle controls across other content types

Captured content can also be searched in **eDiscovery**. You can filter by user, app, or content type, and export data for legal or compliance review. This allows you to maintain full lifecycle visibility over AI-generated content, even when it originates from custom or external apps registered through Microsoft Entra.
