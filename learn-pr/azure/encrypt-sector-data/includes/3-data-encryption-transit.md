Azure provides many options for [encrypting data in transit](/azure/azure-government/azure-secure-isolation-guidance#data-encryption-in-transit). Data encryption in transit helps protect data from interception and applies to the following scenarios involving data traveling between:

* Customer's end users and Azure service.
* Customer's on-premises datacenter and Azure region.
* Microsoft datacenters as part of expected Azure service operation.

## Connect to Azure service

Most customers will connect to Azure over the internet, and the precise routing of network traffic will depend on the many network providers that contribute to the internet infrastructure. As stated in the Online Services Terms [Data Protection Addendum](https://aka.ms/DPA?azure-portal=true) (DPA), Microsoft doesn't control or limit the regions from which customer or customer's end users may access or move customer data. Customers can increase security by enabling encryption in transit. For example, customers can use [Azure Application Gateway](/azure/application-gateway/application-gateway-end-to-end-ssl-powershell?azure-portal=true) to configure end-to-end encryption of traffic.

* **Transport Layer Security (TLS):** Azure uses the TLS protocol to help protect data when it's traveling between customers and Azure services, leveraging RSA-2048 for key exchange and AES-256 for data encryption. TLS provides strong authentication, message privacy, and integrity. Perfect Forward Secrecy (PFS) protects connections between a customer's client systems and Microsoft cloud services by generating a unique session key for every session a customer initiates. PFS protects past sessions against potential future key compromises. This combination makes it more difficult to intercept and access data in transit.
* **In-transit encryption for VMs:** Remote sessions to Windows and Linux VMs deployed on Azure can be conducted over protocols that ensure data encryption in transit. For example, the [Remote Desktop Protocol](/windows/win32/termserv/remote-desktop-protocol?azure-portal=true) (RDP) initiated from a client computer to Windows and Linux VMs enables TLS protection for data in transit. Customers can also use [Secure Shell](/azure/virtual-machines/linux/ssh-from-windows?azure-portal=true) (SSH) to connect to Linux VMs running on Azure. SSH is an encrypted connection protocol available by default for remote management of Linux VMs hosted on Azure.
* **Azure Storage transactions:** When interacting with Azure Storage through the Azure portal, all transactions take place over HTTPS. Moreover, customers can configure their storage accounts to accept requests only from secure connections by setting the [“secure transfer required”](/azure/storage/common/storage-require-secure-transfer?azure-portal=true) property for the storage account. The “secure transfer required” option is enabled by default when creating a Storage account in the Azure portal. [Azure Files](/azure/storage/files/storage-files-introduction?azure-portal=true) offers fully managed file shares in the cloud that are accessible via the industry-standard [Server Message Block](/windows/win32/fileio/microsoft-smb-protocol-and-cifs-protocol-overview?azure-portal=true) (SMB) protocol. By default, all Azure storage accounts have [encryption in transit enabled](/azure/storage/files/storage-files-planning#encryption-in-transit). Consequently, when mounting a share over SMB or accessing it through the Azure portal (or PowerShell, CLI, and Azure SDKs), Azure Files will only allow the connection if made with SMB 3.0+ with encryption or over HTTPS.

## Connect to Azure region

When connecting your on-premises infrastructure to Azure regions, you can ensure that all network traffic is properly encrypted.

### VPN encryption

[Virtual Network](/azure/virtual-network/virtual-networks-overview?azure-portal=true) (VNet) provides a means for Azure Virtual Machines (VMs) to act as part of a customer’s internal (on-premises) network. With VNet, customers choose the address ranges of non-globally-routable IP addresses to be assigned to the VMs so that they will not collide with addresses the customer is using elsewhere. Customers have options to securely connect to a VNet from their on-premises infrastructure or remote locations.

* **Site-to-Site** (IPsec/IKE VPN tunnel): A cryptographically protected “tunnel” is established between Azure and the customer’s internal network, allowing an Azure VM to connect to the customer’s back-end resources as though it was directly on that network. This type of connection requires a [VPN device](/azure/vpn-gateway/vpn-gateway-vpn-faq#s2s) located on-premises with an externally facing public IP address assigned to it. Customers can use [Azure VPN Gateway](/azure/vpn-gateway/vpn-gateway-about-vpngateways?azure-portal=true) to send encrypted traffic between their VNet and their on-premises infrastructure across the public internet, for example, a [site-to-site VPN](/azure/vpn-gateway/tutorial-site-to-site-portal?azure-portal=true) relies on IPsec for transport encryption. Azure VPN Gateway supports a wide range of encryption algorithms that are FIPS 140-2 validated. Moreover, customers can configure Azure VPN Gateway to use [custom IPsec/IKE policy](/azure/vpn-gateway/vpn-gateway-about-compliance-crypto?azure-portal=true) with specific cryptographic algorithms and key strengths instead of relying on the default Azure policies. IPsec encrypts data at the IP level (Network Layer 3).
* **Point-to-Site** (VPN over SSTP, OpenVPN, and IPsec): A secure connection is established from an individual client computer to customer’s VNet using Secure Socket Tunneling Protocol (SSTP), OpenVPN, or IPsec. As part of the [Point-to-Site VPN](/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal?azure-portal=true) configuration, customers need to install a certificate and a VPN client configuration package, which allows the client computer to connect to any VM within the VNet. Point-to-Site VPN connections do not require a VPN device or a public-facing IP address.

In addition to controlling the type of algorithm that is supported for VPN connections, Azure provides customers with the ability to enforce that all traffic leaving a VNet may only be routed through a VNet Gateway (such as Azure VPN Gateway). This enforcement allows customers to ensure that traffic may not leave a VNet without being encrypted. A VPN Gateway can be used for [VNet-to-VNet](/azure/vpn-gateway/vpn-gateway-howto-vnet-vnet-resource-manager-portal?azure-portal=true) connections while also providing a secure tunnel with IPsec/IKE. Azure VPN uses [Pre-Shared Key (PSK) authentication](/azure/vpn-gateway/vpn-gateway-vpn-faq?azure-poral=true#how-does-my-vpn-tunnel-get-authenticated) whereby Microsoft generates a PSK when the VPN tunnel is created. Customers can change the autogenerated PSK to their own.

### ExpressRoute encryption

[ExpressRoute](/azure/expressroute/expressroute-introduction?azure-portal=true) allows customers to create private connections between Microsoft datacenters and their on-premises infrastructure or colocation facility. ExpressRoute connections do not go over the public internet and offer lower latency and higher reliability than IPsec protected VPN connections. [ExpressRoute locations](/azure/expressroute/expressroute-locations-providers?azure-portal=true) are the entry points to Microsoft global network backbone, and they may or may not match the location of Azure regions. For example, customers can connect to Microsoft in Amsterdam through ExpressRoute and have access to all Azure cloud services hosted in Northern and Western Europe. However, it’s also possible to access the same Azure regions from ExpressRoute connections located elsewhere in the world. Once the network traffic enters the Microsoft backbone, it is guaranteed to traverse that private networking infrastructure instead of the public internet.

Customers can use ExpressRoute with several data [encryption options](/azure/expressroute/expressroute-about-encryption?azure-portal=true), including [MACsec](https://1.ieee802.org/security/802-1ae/?azure-portal=true) that enables customers to store [MACsec encryption keys in Azure Key Vault](/azure/expressroute/expressroute-about-encryption#point-to-point-encryption-by-macsec-faq). MACsec encrypts data at the Media Access Control (MAC) level, that is, data link layer (Network Layer 2). Both AES-128 and AES-256 block ciphers are [supported for encryption](/azure/expressroute/expressroute-about-encryption#which-cipher-suites-are-supported-for-encryption). Customers can use MACsec to encrypt the physical links between their network devices and Microsoft network devices when they connect to Microsoft via [ExpressRoute Direct](/azure/expressroute/expressroute-erdirect-about?azure-portal=true). ExpressRoute Direct allows for direct fiber connections from customer's edge to the Microsoft Enterprise edge routers at the peering locations.

Customers can enable IPsec in addition to MACsec on their ExpressRoute Direct ports. Using Azure VPN Gateway, customers can set up an [IPsec tunnel over Microsoft Peering](/azure/expressroute/site-to-site-vpn-over-microsoft-peering?azure-portal=true) of customer’s ExpressRoute circuit between customer’s on-premises network and customer’s Azure VNet. MACsec secures the physical connection between customer’s on-premises network and Microsoft. IPsec secures the end-to-end connection between customer’s on-premises network and their VNets in Azure. MACsec and IPsec can be enabled independently.

## Connect between regions

Inter-region traffic is encrypted by Microsoft using [Media Access Control Security](https://1.ieee802.org/security/802-1ae/?azure-portal=true) (MACsec), which protects network traffic at the data link layer (Network Layer 2) and relies on AES-128 block cipher for encryption. This traffic stays entirely within the Microsoft [global network backbone](/azure/networking/microsoft-global-network?azure-portal=true) and never enters the public internet. The backbone is one of the largest in the world, with more than 250,000 km of lit fiber optic and undersea cable systems. However, network traffic isn't guaranteed to always follow the same path from one Azure region to another. To provide the reliability needed for the Azure cloud, Microsoft has many physical networking paths with automatic routing around failures for optimal reliability. This means that Microsoft can't guarantee that network traffic traversing between Azure regions will always be confined to the corresponding geography. In case of networking infrastructure disruptions, Microsoft can reroute the encrypted network traffic across its private backbone to ensure service availability and the best possible performance.

Customers should review Azure's [best practices](/azure/security/fundamentals/data-encryption-best-practices#protect-data-in-transit) to protect data in transit to help ensure that all data in transit is encrypted. For key Azure services (for example, Azure SQL Database), data encryption in transit is [enforced by default](/azure/sql-database/sql-database-security-overview#information-protection-and-encryption).

Next, we'll look at how encryption can protect data while at rest.